<div style="display: flex; flex-direction: row">
  <view-nav *ngIf="screenService.showViewNav"
    style="flex: 0 0 250px; overflow: scroll; border-right: 1px solid black; margin-right: 0.5em;"
  ></view-nav>
  <div>
    <div>
      <button mat-button
              *ngIf="showViewPanelBtn()"
              (click)="openViewNav()"
      >
        <mat-icon>
          more_horiz
        </mat-icon>
      </button>
      <button mat-button
              [disabled]="!showPrevViewBtn()"
              (click)="navigateBack()"
      >
        <mat-icon>chevron_left</mat-icon>
      </button>
      <button mat-button
              [disabled]="!showNextViewBtn()"
              (click)="navigateForward()"
      >
        <mat-icon>chevron_right</mat-icon>
      </button>
    </div>
    <div *ngFor="let block of viewContentBlocks">
      <div [ngSwitch]="block.type">
        <div *ngSwitchCase="viewContentBlockTypes.HEADER">
          <h3>
            {{block.text}}
          </h3>
        </div>
        <h4 *ngSwitchCase="viewContentBlockTypes.SUB_HEADER">
          {{block.text}}
        </h4>
        <quill-readonly *ngSwitchCase="viewContentBlockTypes.SCRIPT_SECTION"
                        [plaintext]="block.text"
        ></quill-readonly>
        <div *ngSwitchCase="viewContentBlockTypes.LINK_SUBHEADER"
          style="margin-top: 1em;"
        >
          <button *ngIf="!block.viewOption"
            mat-raised-button
            color="primary"
            (click)="initiateEdit(block.editOption)"
          >
            {{block.text}}
            <mat-icon>
              edit
            </mat-icon>
          </button>
          <button *ngIf="!!block.viewOption"
            mat-stroked-button
            (click)="updateViewContent(block.viewOption)"
          >
            {{block.text}}
            <mat-icon>
              arrow_right
            </mat-icon>
          </button>
        </div>
        <div *ngSwitchCase="viewContentBlockTypes.PARAGRAPH">
          <p>{{block.text.length ? block.text : '&nbsp;'}}</p>
          <button
            *ngIf="block.viewOption"
            mat-button
            (click)="updateViewContent(block.viewOption)"
          >
            <mat-icon>double_arrow</mat-icon>
          </button>
          <button
            *ngIf="block.editOption"
            mat-button
            (click)="initiateEdit(block.editOption)"
          >
            <mat-icon>edit</mat-icon>
          </button>
        </div>
        <div *ngSwitchCase="viewContentBlockTypes.LIST_ENTRY">
          <div *ngIf="!!(block.viewOption); else noLinkListEntry">
            <button mat-button
                    (click)="updateViewContent(block.viewOption)"
            >{{block.text}}</button>
          </div>
          <ng-template #noLinkListEntry>
            <p style="margin-left: 2em;">{{block.text}}</p>
          </ng-template>
        </div>
        <div *ngSwitchCase="viewContentBlockTypes.NEXT_PREV_NAV">
          <button mat-button
                  [disabled]="!block.prevOption"
                  (click)="updateViewContent(block.prevOption)"
          >Prev {{block.text}}</button>
          <button mat-button
                  [disabled]="!block.viewOption"
                  (click)="updateViewContent(block.viewOption)"
          >Next {{block.text}}</button>
        </div>
        <div *ngSwitchCase="viewContentBlockTypes.HORIZONTAL_DIVIDER">
          <hr/>
        </div>
      </div>
    </div>
  </div>
</div>


