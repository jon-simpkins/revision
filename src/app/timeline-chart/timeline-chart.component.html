<div class="timeline-controls">
  <icon-button
    icon="zoom_out"
    title="Zoom Out"
    (click)="zoomOut()"
    [disabled]="zoomLevel === 100"></icon-button>
  <icon-button
    icon="zoom_in"
    title="Zoom In"
    (click)="zoomIn()"></icon-button>
  <label>Tag</label>
  <select [value]="'none'" (input)="tagSelectionChange($event)">
    <option [value]="'none'">No tag</option>
    <option *ngFor="let tagOption of relevantTags" [value]="tagOption.id">
      {{tagOption.name}}
    </option>
  </select>
</div>
<div class="timeline-wrapper">
  <div
    *ngFor="let row of preppedTimelineBlockRows"
    class="timeline-row"
    [style.width]="formatPercentString(zoomLevel)">
    <div *ngFor="let block of row"
      class="timeline-block"
         [style.background]="block.color"
         [style.width]="formatPercentString(block.width)"
         [style.left]="formatPercentString(block.left)"
         title="{{block.label}}"
         (click)="selectBeat.emit(block.id)"
    ></div>
  </div>
  <div class="time-marker-row" [style.width]="formatPercentString(zoomLevel)">

    <ng-container *ngFor="let marker of preppedTimelineMarkers">
      <div
        class="marker"
        [style.left]="formatPercentString(marker.left)">
        {{marker.label}}
      </div>
    </ng-container>

  </div>
</div>
